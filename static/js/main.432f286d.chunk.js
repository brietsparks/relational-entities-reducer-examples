(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),l=n.n(r),c=n(75),s=n(76),o=n(86),m=n(77),d=n(88),u=n(56),p=n(27),E=n(186),v=n(182),f=n(183),b=n(74),y=n(19),g=n(48),h=n.n(g),I=n(65),x=n(171),j=n(173),k=n(175),O=n(176),C=n(178),R=n(180),w=n(177),L=n(184),S=n(179),z=n(174),D=n(83),F=n.n(D),q=n(62),B=n.n(q),M=n(60),P=n.n(M),U=n(61),W=n.n(U),J=function(e){var t=e.state;return i.a.createElement("pre",{style:{overflowX:"scroll"}},JSON.stringify(t,null,2))},T=n(34),K=n(79),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(T.createStore)(e,t,Object(K.composeWithDevTools)(T.applyMiddleware.apply(void 0,[])))},A=function(){return Math.random().toString(36).slice(-5)},N=h()({list:{itemIds:{has:"many",type:"item"}},item:{listId:{has:"one",type:"list"}}}),X=N.reducer,G=N.actions,H=N.selectors,Q={list:{resources:{l1:{title:"First list!",itemIds:["i1"]}},ids:["l1"]},item:{resources:{i1:{listId:"l1",description:"Edit this text and add some more items!"}},ids:["i1"]}},V=Object(y.b)(function(e){return{state:e}})(J),Y=Object(y.b)(function(e){return{ids:H.getIds(e,"list")}},function(e){return{addList:function(){return e(G.add(["list",A(),{itemIds:[A()]}]))}}})(function(e){var t=e.ids,n=void 0===t?[]:t,a=e.addList;return i.a.createElement(j.a,{maxWidth:"sm"},i.a.createElement(I.a,{exitPose:!1},n.map(function(e,t){return i.a.createElement(ee,{key:e},i.a.createElement(Z,{id:e,index:t,isFirst:0===t,isLast:t>=n.length-1}))})),i.a.createElement(z.a,{onClick:a,variant:"contained",color:"primary"},"Add a list"))}),Z=Object(y.b)(function(e,t){var n=t.id,a=H.getResource(e,["list",n]);return a?{title:a.title,itemIds:a.itemIds}:{}},function(e,t){var n=t.id,a=t.index;return{addItem:function(){return e(G.add(["item",A(),{listId:n}]))},remove:function(){return e(G.remove(["list",n,{removeRelated:{itemIds:{}}}]))},edit:function(t){return e(G.edit(["list",n,t]))},moveUp:function(){a>0&&e(G.reindex("list",a,a-1))},moveDown:function(){return e(G.reindex("list",a,a+1))}}})(function(e){var t=e.id,n=e.title,a=e.itemIds,r=void 0===a?[]:a,l=e.isFirst,c=e.isLast,s=e.addItem,o=e.remove,m=e.edit,d=e.moveUp,u=e.moveDown;return i.a.createElement(k.a,{style:{marginBottom:20}},i.a.createElement(O.a,null,i.a.createElement(L.a,{value:n,onChange:function(e){return m({title:e.target.value})},placeholder:"List title:",style:{fontWeight:"bold"}}),i.a.createElement("div",{style:{display:"inline-block",float:"right"}},i.a.createElement(S.a,{size:"small",color:"primary",onClick:d,disabled:l},i.a.createElement(P.a,null)),i.a.createElement(S.a,{size:"small",color:"primary",onClick:u,disabled:c},i.a.createElement(W.a,null)),i.a.createElement(S.a,{size:"small",color:"primary",onClick:o},i.a.createElement(B.a,null))),i.a.createElement(C.a,null,r.map(function(e,n){return i.a.createElement(R.a,{key:e,style:{paddingLeft:0,paddingRight:0}},i.a.createElement($,{id:e,listId:t,index:n,isFirst:0===n,isLast:n>=r.length-1}))})),i.a.createElement(S.a,{style:{borderRadius:0},onClick:s,size:"small"},i.a.createElement(F.a,null))))}),$=Object(y.b)(function(e,t){var n=t.id,a=H.getResource(e,["item",n]);return{description:a.description,listId:a.listId}},function(e,t){var n=t.id,a=t.index,i=t.listId;return{remove:function(){return e(G.remove(["item",n]))},edit:function(t){return e(G.edit(["item",n,t]))},moveUp:function(){a>0&&e(G.reindexRelated("list",i,"itemIds",a,a-1))},moveDown:function(){return e(G.reindexRelated("list",i,"itemIds",a,a+1))}}})(function(e){var t=e.id,n=e.index,a=e.description,r=(e.listId,e.isFirst),l=e.isLast,c=e.remove,s=e.edit,o=e.moveUp,m=e.moveDown,d={borderRadius:0};return i.a.createElement(R.a,{style:{padding:0}},i.a.createElement(w.a,{style:{paddingRight:90},value:a,onChange:function(e){return s({description:e.target.value})},placeholder:"Item #".concat(n+1," (Item ID: ").concat(t,")"),fullWidth:!0}),i.a.createElement("div",{style:{position:"absolute",right:0}},i.a.createElement(S.a,{size:"small",style:d,onClick:o,disabled:r},i.a.createElement(P.a,null)),i.a.createElement(S.a,{size:"small",style:d,onClick:m,disabled:l},i.a.createElement(W.a,null)),i.a.createElement(S.a,{size:"small",style:d,onClick:c},i.a.createElement(B.a,null))))}),ee=I.b.div({enter:{y:0,opacity:1,transition:{y:{type:"spring",stiffness:1e3,damping:25},default:{duration:125}}},exit:{y:-50,opacity:0,transition:{duration:125}}}),te=function(){var e=_(X,Q);return i.a.createElement(y.a,{store:e},i.a.createElement(x.a,{container:!0},i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(j.a,null,i.a.createElement(Y,null))),i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(j.a,null,i.a.createElement(V,null)))))},ne=n(87),ae=n(66),ie=n(137),re=n(181),le=n(84),ce=n.n(le),se=h()({comment:{parentId:{has:"one",type:"comment",reciprocalKey:"childIds"},childIds:{has:"many",type:"comment",reciprocalKey:"parentId"}}}),oe=se.reducer,me=se.actions,de=(se.emptyState,se.selectors),ue={comment:{resources:{c1:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas iaculis, sapien quis tempus laoreet, est enim tincidunt mi, et pulvinar orci nulla ac ipsum. Phasellus tempus neque massa, ut tempor felis tempus sed.",childIds:["c2","c3"]},c2:{text:"Duis dapibus sed dui id facilisis. Sed ac ligula non mi fermentum mattis id sit amet urna. Fusce commodo elit libero, a varius justo tincidunt in. Cras ipsum libero, euismod sit amet risus non, placerat sodales lectus.",parentId:"c1"},c3:{text:"Duis nisl magna, commodo non tellus ac, tristique egestas velit. Proin eget eros viverra ex venenatis convallis eu sed orci. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.",parentId:"c1"}},ids:["c1","c2","c3"]}},pe=function(){var e=_(oe,ue);return i.a.createElement(y.a,{store:e},i.a.createElement(x.a,{container:!0},i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(j.a,null,i.a.createElement(ge,null))),i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(j.a,null,i.a.createElement(Ee,null)))))},Ee=Object(y.b)(function(e){return{state:e}})(J),ve=Object(y.b)(null,function(e,t){var n=t.parentId;return{addComment:function(t){return e(me.add(["comment",A(),{parentId:n,text:t}]))}}})(function(e){var t=e.ids,n=void 0===t?[]:t,r=e.parentId,l=e.addComment,c=Object(a.useState)(!1),s=Object(ae.a)(c,2),o=s[0],m=s[1],d=Object(a.useState)(""),u=Object(ae.a)(d,2),p=u[0],E=u[1],v={paddingLeft:r?20:0},f={cursor:"pointer"};return i.a.createElement("div",{style:{marginBottom:20}},i.a.createElement("div",{style:{marginBottom:12}},o&&i.a.createElement("div",null,i.a.createElement(re.a,{onClick:function(){""!==p.trim()&&(l(p),m(!1),E(""))},style:f},"Submit"),i.a.createElement("br",null),i.a.createElement(L.a,{value:p,onChange:function(e){return E(e.target.value)},style:{width:300},autoFocus:!0,multiline:!0})),!o&&i.a.createElement(re.a,{onClick:function(){return m(!0)},style:f},r?"Reply":"Post a comment")),i.a.createElement("div",{style:v},n.map(function(e){return i.a.createElement(be,{key:e,id:e,parentId:r})})))}),fe=function e(){return{childIds:e}},be=Object(y.b)(function(e,t){var n=t.id,a=de.getResource(e,["comment",n]);return Object(ne.a)({},a)},function(e,t){var n=t.id;return{remove:function(){return e(me.remove(["comment",n,{removeRelated:{childIds:fe}}]))},edit:function(t){return e(me.edit(["comment",n,t]))}}})(function(e){var t=e.id,n=e.text,a=(e.parentId,e.childIds),r=e.remove;return i.a.createElement("div",{style:{paddingLeft:12,borderLeft:"solid 3px #ccc",position:"relative",paddingRight:20}},i.a.createElement(ie.a,null,n,i.a.createElement(S.a,{onClick:r,size:"small"},i.a.createElement(ce.a,null))),i.a.createElement(ve,{ids:a,parentId:t}))}),ye=function(e){return de.getIds(e,"comment").filter(function(t){return!de.getResource(e,["comment",t]).parentId})},ge=Object(y.b)(function(e){return{ids:ye(e)}})(ve);function he(e){return i.a.createElement(b.a,Object.assign({},e,{style:{position:"relative",top:5,marginRight:5}}),i.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"}))}var Ie=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={color:"white",textDecoration:"none",margin:"20px",fontSize:"16px"};return i.a.createElement(u.a,{basename:"relational-entities-reducer-examples"},i.a.createElement(E.a,null),i.a.createElement(v.a,{position:"absolute"},i.a.createElement(f.a,null,i.a.createElement("nav",null,i.a.createElement(u.b,{to:"/list",style:e},"List"),i.a.createElement(u.b,{to:"/tree",style:e},"Tree"),i.a.createElement("a",{href:"https://github.com/brietsparks/relational-entities-reducer-examples",style:e,target:"_blank"},i.a.createElement(he,null),"Demo Source"),i.a.createElement("a",{href:"https://github.com/brietsparks/relational-entities-reducer",style:e,target:"_blank"},i.a.createElement(he,null),"Library Source")))),i.a.createElement("div",{style:{paddingTop:100}},i.a.createElement(p.a,{exact:!0,path:"/",component:te}),i.a.createElement(p.a,{exact:!0,path:"/list",component:te}),i.a.createElement(p.a,{exact:!0,path:"/tree",component:pe})))}}]),t}(a.Component);l.a.render(i.a.createElement(Ie,null),document.getElementById("root"))},97:function(e,t,n){e.exports=n(136)}},[[97,1,2]]]);
//# sourceMappingURL=main.432f286d.chunk.js.map