{"version":3,"sources":["components/StatePresenter.js","examples/store.js","examples/util.js","examples/1-lists/index.js","examples/1-lists/schema.js","examples/2-recursive-tree/index.js","examples/2-recursive-tree/schema.js","App.js","index.js"],"names":["StatePresenter","_ref","state","react_default","a","createElement","style","overflowX","JSON","stringify","configureStore","reducer","initialState","arguments","length","undefined","createStore","composeWithDevTools","applyMiddleware","apply","randomString","Math","random","toString","slice","makeReducerAndActions","list","itemIds","has","type","item","listId","actions","selectors","resources","l1","title","ids","i1","description","State","connect","Todos","getIds","dispatch","addList","add","_ref$ids","Container","maxWidth","react_pose_es","exitPose","map","index","AnimatedItem","key","_1_lists_List","id","isFirst","isLast","Button","onClick","variant","color","List","_ref2","getResource","_ref3","addItem","remove","removeRelated","edit","changes","moveUp","reindex","moveDown","_ref4","_ref4$itemIds","Card","marginBottom","CardContent","TextField","value","onChange","e","target","placeholder","fontWeight","display","float","IconButton","size","disabled","ArrowUpward_default","ArrowDownward_default","Delete_default","List_List","itemId","ListItem","paddingLeft","paddingRight","_1_lists_Item","borderRadius","Add_default","Item","_ref5","_ref6","reindexRelated","_ref7","buttonStyle","padding","Input","concat","fullWidth","position","right","posed","div","enter","y","opacity","transition","stiffness","damping","default","duration","exit","App","store","es","Grid","container","xs","sm","md","_1_lists_Todos","comment","parentId","reciprocalKey","childIds","emptyState","c1","text","c2","c3","_2_recursive_tree","RootComments","_2_recursive_tree_State","Comments","addComment","_ref2$ids","_useState","useState","_useState2","Object","slicedToArray","shouldShowInput","setShouldShowInput","_useState3","_useState4","newComment","setNewComment","childrenStyle","linkStyle","cursor","Link","trim","width","autoFocus","multiline","Comment","commentRemovalSchema","objectSpread","change","borderLeft","Typography","Close_default","getRootCommentIds","filter","GhIcon","props","SvgIcon","assign","top","marginRight","d","textDecoration","margin","fontSize","react_router_dom","basename","CssBaseline","AppBar","Toolbar","to","href","paddingTop","react_router","exact","path","component","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.432f286d.chunk.js","sourcesContent":["import React from 'react';\n\nconst StatePresenter = ({ state }) => {\n  const style = {\n    overflowX: 'scroll'\n  };\n\n  return (\n    <pre style={style}>\n      {JSON.stringify(state, null, 2)}\n    </pre>\n  );\n};\n\nexport default StatePresenter;\n","import { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nexport const configureStore = (reducer, initialState = {}) => {\n  return createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware.apply(this, []))\n  );\n};\n","export const randomString = () => Math.random().toString(36).slice(-5);\n","import React from 'react';\nimport { connect, Provider } from 'react-redux';\nimport makeReducerAndActions from 'relational-entities-reducer';\n\nimport posed, { PoseGroup } from 'react-pose'\n\nimport Grid from '@material-ui/core/Grid'\nimport MuiContainer from '@material-ui/core/Container';\nimport MuiCard from '@material-ui/core/Card';\nimport MuiCardContent from '@material-ui/core/CardContent';\nimport MuiList from '@material-ui/core/List';\nimport MuiListItem from '@material-ui/core/ListItem';\nimport MuiInputField from '@material-ui/core/Input';\nimport MuiTextField from '@material-ui/core/TextField';\nimport MuiIconButton from '@material-ui/core/IconButton';\nimport MuiButton from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ArrowUpIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownIcon from '@material-ui/icons/ArrowDownward';\n\nimport StatePresenter from '../../components/StatePresenter';\nimport schema from './schema';\nimport { configureStore } from '../store';\nimport { randomString } from '../util';\n\nconst { reducer, actions, selectors } = makeReducerAndActions(schema);\n\nconst initialState = {\n  list: {\n    resources: {\n      'l1': { title: 'First list!', itemIds: ['i1'] }\n      },\n    ids: ['l1']\n  },\n  item: {\n    resources: {\n      'i1': {\n        listId: 'l1',\n        description: 'Edit this text and add some more items!'\n      }\n    },\n    ids: ['i1']\n  }\n};\n\nexport const App = () => {\n  const store = configureStore(reducer, initialState);\n\n  return (\n    <Provider store={store}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={6}>\n          <MuiContainer>\n            <Todos/>\n          </MuiContainer>\n        </Grid>\n        <Grid item xs={12} sm={12} md={6}>\n          <MuiContainer>\n            <State/>\n          </MuiContainer>\n        </Grid>\n      </Grid>\n    </Provider>\n  );\n};\n\nconst State = connect(state => ({state}))(StatePresenter);\n\n// Todos is a collection of lists\nexport const Todos = connect(\n  state => ({\n    ids: selectors.getIds(state, 'list')\n  }),\n  dispatch => ({\n    addList: () => dispatch(actions.add(\n      ['list', randomString(), { itemIds: [randomString()] }]\n    ))\n  })\n)(\n  function Todos({ ids = [], addList }) {\n    return (\n      <MuiContainer maxWidth=\"sm\">\n        <PoseGroup exitPose={false}>\n          {ids.map((listId, index) => (\n            <AnimatedItem key={listId}>\n              <List id={listId} index={index} isFirst={index === 0} isLast={index >= ids.length - 1} />\n            </AnimatedItem>\n          ))}\n        </PoseGroup>\n\n        <MuiButton onClick={addList} variant=\"contained\" color=\"primary\">Add a list</MuiButton>\n      </MuiContainer>\n    );\n  }\n);\n\n// List is a collection of items\nconst List = connect(\n  (state, { id }) => {\n    const list = selectors.getResource(state, ['list', id]);\n\n    if (!list) {\n      return {}; // the animation might not be done by the time the state updates\n    }\n\n    return { title: list.title, itemIds: list.itemIds }\n  },\n  (dispatch, { id, index }) => ({\n    addItem: () => dispatch(actions.add(['item', randomString(), { listId: id }])),\n    remove: () => dispatch(actions.remove([\n      'list', id, { removeRelated: { itemIds: {} } }\n    ])),\n    edit: changes => dispatch(actions.edit(['list', id, changes])),\n    moveUp: () => {\n      if (index > 0) {\n        dispatch(actions.reindex('list', index, index - 1))\n      }\n    },\n    moveDown: () => dispatch(actions.reindex('list', index, index + 1))\n  })\n)(\n  function List({ id, title, itemIds = [], isFirst, isLast, addItem, remove, edit, moveUp, moveDown }) {\n    const handleChangeTitle = e => edit({ title: e.target.value });\n\n    return (\n      <MuiCard style={{ marginBottom: 20 }}>\n        <MuiCardContent>\n          <MuiTextField\n            value={title}\n            onChange={handleChangeTitle}\n            placeholder=\"List title:\"\n            style={{ fontWeight: 'bold' }}\n          />\n\n          <div style={{ display: 'inline-block', float: \"right\" }}>\n            <MuiIconButton size=\"small\" color=\"primary\" onClick={moveUp} disabled={isFirst}><ArrowUpIcon/></MuiIconButton>\n            <MuiIconButton size=\"small\" color=\"primary\" onClick={moveDown} disabled={isLast}><ArrowDownIcon/></MuiIconButton>\n            <MuiIconButton size=\"small\" color=\"primary\" onClick={remove}><DeleteIcon/></MuiIconButton>\n          </div>\n\n          <MuiList>\n            {itemIds.map((itemId, index) => (\n              <MuiListItem key={itemId} style={{ paddingLeft: 0, paddingRight: 0 }}>\n                <Item id={itemId} listId={id} index={index}\n                      isFirst={index === 0}\n                      isLast={index >= itemIds.length - 1} />\n              </MuiListItem>\n            ))}\n          </MuiList>\n          <MuiIconButton style={{ borderRadius: 0 }} onClick={addItem} size=\"small\"><AddIcon/></MuiIconButton>\n        </MuiCardContent>\n      </MuiCard>\n    )\n  }\n);\n\nconst Item = connect(\n  (state, { id }) => {\n    const item = selectors.getResource(state, ['item', id]);\n    return { description: item.description, listId: item.listId }\n  },\n  (dispatch, { id, index, listId }) => ({\n    remove: () => dispatch(actions.remove(['item', id])),\n    edit: changes => dispatch(actions.edit(['item', id, changes])),\n    moveUp: () => {\n      if (index > 0) {\n        dispatch(actions.reindexRelated('list', listId, 'itemIds', index, index - 1))\n      }\n    },\n    moveDown: () => dispatch(actions.reindexRelated('list', listId, 'itemIds', index, index + 1))\n  })\n)(\n  function Item({ id, index, description, listId, isFirst, isLast, remove, edit, moveUp, moveDown }) {\n    const handleChangeDescription = e => edit({ description: e.target.value });\n    const buttonStyle = { borderRadius: 0 };\n\n    return (\n      <MuiListItem style={{ padding: 0 }}>\n        <MuiInputField\n          style={{ paddingRight: 90 }}\n          value={description}\n          onChange={handleChangeDescription}\n          placeholder={`Item #${index + 1} (Item ID: ${id})`}\n          fullWidth\n        />\n        <div style={{ position: 'absolute', right: 0 }}>\n          <MuiIconButton size=\"small\" style={buttonStyle} onClick={moveUp} disabled={isFirst}><ArrowUpIcon/></MuiIconButton>\n          <MuiIconButton size=\"small\" style={buttonStyle} onClick={moveDown} disabled={isLast}><ArrowDownIcon/></MuiIconButton>\n          <MuiIconButton size=\"small\" style={buttonStyle} onClick={remove}><DeleteIcon/></MuiIconButton>\n        </div>\n      </MuiListItem>\n    )\n  }\n);\n\nconst AnimatedItem = posed.div({\n  enter: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      y: { type: 'spring', stiffness: 1000, damping: 25 },\n      default: { duration: 125 }\n    },\n  },\n  exit: {\n    y: -50,\n    opacity: 0,\n    transition: { duration: 125 }\n  }\n});\n\nexport default App;\n","export default {\n  list: {\n    itemIds: {\n      has: 'many',\n      type: 'item',\n    }\n  },\n  item: {\n    listId: {\n      has: 'one',\n      type: 'list'\n    }\n  }\n}\n","import React, { useState } from 'react';\nimport { connect, Provider } from 'react-redux';\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography';\nimport MuiContainer from '@material-ui/core/Container';\nimport MuiTextField from '@material-ui/core/TextField';\nimport MuiIconButton from '@material-ui/core/IconButton';\nimport MuiLink from '@material-ui/core/Link';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport makeReducerAndActions from 'relational-entities-reducer';\n\nimport StatePresenter from '../../components/StatePresenter';\n\nimport schema from './schema';\nimport { configureStore } from '../store';\nimport { randomString } from '../util';\n\nconst { reducer, actions, emptyState, selectors } = makeReducerAndActions(schema);\n\nconst initialState = {\n  comment: {\n    resources: {\n      'c1': {\n        text: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas iaculis, sapien quis tempus laoreet, est enim tincidunt mi, et pulvinar orci nulla ac ipsum. Phasellus tempus neque massa, ut tempor felis tempus sed.',\n        childIds: ['c2', 'c3']\n      },\n      'c2': {\n        text: 'Duis dapibus sed dui id facilisis. Sed ac ligula non mi fermentum mattis id sit amet urna. Fusce commodo elit libero, a varius justo tincidunt in. Cras ipsum libero, euismod sit amet risus non, placerat sodales lectus.',\n        parentId: 'c1'\n      },\n      'c3': {\n        text: 'Duis nisl magna, commodo non tellus ac, tristique egestas velit. Proin eget eros viverra ex venenatis convallis eu sed orci. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.',\n        parentId: 'c1'\n      }\n    },\n    ids: ['c1', 'c2', 'c3']\n  }\n};\n\nexport default () => {\n  const store = configureStore(reducer, initialState);\n\n  return (\n    <Provider store={store}>\n      <Grid container>\n        <Grid item xs={12} sm={12} md={6}>\n          <MuiContainer>\n            <RootComments/>\n          </MuiContainer>\n        </Grid>\n        <Grid item xs={12} sm={12} md={6}>\n          <MuiContainer>\n            <State/>\n          </MuiContainer>\n        </Grid>\n      </Grid>\n    </Provider>\n  );\n};\n\nconst State = connect(state => ({state}))(StatePresenter);\n\nconst Comments = connect(\n  null,\n  (dispatch, { parentId }) => ({\n    addComment: text => dispatch(actions.add(['comment', randomString(), { parentId, text }]))\n  })\n)(\n  ({ ids = [], parentId, addComment }) => {\n    const [shouldShowInput, setShouldShowInput] = useState(false);\n    const [newComment, setNewComment] = useState('');\n\n    const handleChangeNewComment = e => setNewComment(e.target.value);\n\n    const showInput = () => setShouldShowInput(true);\n\n    const handleAddComment = () => {\n      if (newComment.trim() !== '') {\n        addComment(newComment);\n        setShouldShowInput(false);\n        setNewComment('');\n      }\n    };\n\n    const style = { marginBottom: 20 };\n    const childrenStyle = { paddingLeft: parentId ? 20 : 0 };\n    const inputStyle = { width: 300 };\n    const linkStyle = { cursor: 'pointer' };\n    return (\n      <div style={style}>\n        <div style={{ marginBottom: 12 }}>\n          {shouldShowInput &&\n          <div>\n            <MuiLink onClick={handleAddComment} style={linkStyle}>Submit</MuiLink>\n            <br/>\n            <MuiTextField\n              value={newComment}\n              onChange={handleChangeNewComment}\n              style={inputStyle}\n              autoFocus={true}\n              multiline\n            />\n          </div>\n          }\n\n          {!shouldShowInput &&\n          <MuiLink onClick={showInput} style={linkStyle}>{parentId ? 'Reply' : 'Post a comment'}</MuiLink>\n          }\n        </div>\n\n        <div style={childrenStyle}>\n          {ids.map(id => {\n            return <Comment key={id} id={id} parentId={parentId}/>\n          })}\n        </div>\n      </div>\n    );\n  }\n);\n\nconst commentRemovalSchema = () => ({\n  childIds: commentRemovalSchema\n});\n\nconst Comment = connect(\n  (state, { id }) => {\n    const comment = selectors.getResource(state, ['comment', id]);\n    return { ...comment };\n  },\n  (dispatch, { id }) => ({\n    remove: () => dispatch(actions.remove([\n      'comment', id, { removeRelated: { childIds: commentRemovalSchema } }\n    ])),\n    edit: change => dispatch(actions.edit(['comment', id, change]))\n  })\n)(\n  ({ id, text, parentId, childIds, remove }) => {\n    const style = {\n      paddingLeft: 12,\n      borderLeft: 'solid 3px #ccc',\n      position: 'relative',\n      paddingRight: 20,\n    };\n\n    return (\n      <div style={style}>\n        <Typography>\n          {text}\n          <MuiIconButton onClick={remove} size=\"small\">\n            <CloseIcon/>\n          </MuiIconButton>\n        </Typography>\n\n        <Comments ids={childIds} parentId={id}/>\n      </div>\n    );\n  }\n);\n\nconst getRootCommentIds = state => {\n  const ids = selectors.getIds(state, 'comment');\n  return ids.filter(id => {\n    const comment = selectors.getResource(state, ['comment', id]);\n    return !comment.parentId;\n  })\n};\n\nconst RootComments = connect(\n  state => ({\n    ids: getRootCommentIds(state)\n  })\n)(Comments);\n","export default {\n  'comment': {\n    'parentId': {\n      has: 'one',\n      type: 'comment',\n      reciprocalKey: 'childIds'\n    },\n    'childIds': {\n      has: 'many',\n      type: 'comment',\n      reciprocalKey: 'parentId'\n    }\n  },\n};\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport Todos from './examples/1-lists';\nimport Comments from './examples/2-recursive-tree';\n\nclass App extends Component {\n  render() {\n    const linkStyle = {\n      color: 'white',\n      textDecoration: 'none',\n      margin: '20px',\n      fontSize: '16px',\n    };\n\n    return (\n      <Router basename=\"relational-entities-reducer-examples\">\n        <CssBaseline/>\n\n        <AppBar position=\"absolute\">\n          <Toolbar>\n            <nav>\n              <Link to=\"/list\" style={linkStyle}>List</Link>\n              <Link to=\"/tree\" style={linkStyle}>Tree</Link>\n              <a\n                href=\"https://github.com/brietsparks/relational-entities-reducer-examples\"\n                style={linkStyle}\n                target=\"_blank\"\n              >\n                <GhIcon/>\n                Demo Source\n              </a>\n\n              <a\n                href=\"https://github.com/brietsparks/relational-entities-reducer\"\n                style={linkStyle}\n                target=\"_blank\"\n              >\n                <GhIcon/>\n                Library Source\n              </a>\n            </nav>\n\n          </Toolbar>\n        </AppBar>\n\n        <div style={{ paddingTop: 100 }}>\n          <Route exact path=\"/\" component={Todos} />\n          <Route exact path=\"/list\" component={Todos} />\n          <Route exact path=\"/tree\" component={Comments} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction GhIcon(props) {\n  const style = {\n    position: 'relative',\n    top: 5,\n    marginRight: 5\n  };\n  return (\n    <SvgIcon {...props} style={style}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}